<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="./css/eye.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/utils/Draggable.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ThrowPropsPlugin.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.3.1/lib/p5.js"></script>
  </head>
  <body>
    <section class="content">
      <div class="interactive-l-container" id="draggable">
        <div id="canvasPointer"></div>
        <div id="canvasCircle"></div>

        <div class="thing-container">
          <div class="thing" id="thingL"></div>
          <div class="thing" id="thingS"></div>
        </div>
        <div class="dots-container">
          <div class="dot fast" data-el="el0">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl1"></div>
          </div>
          <div class="dot slow" data-el="el1">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl2"></div>
          </div>
          <div class="dot slow" data-el="el2">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl3"></div>
          </div>
          <div class="dot fast" data-el="el3">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl4"></div>
          </div>
          <div class="dot slow" data-el="el4">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl5"></div>
          </div>
          <div class="dot fast" data-el="el5">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl6"></div>
          </div>
          <div class="dot slow" data-el="el6">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl7"></div>
          </div>
          <div class="dot fast" data-el="el7">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl8"></div>
          </div>
          <div class="dot slow" data-el="el8">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl9"></div>
          </div>
          <div class="dot slow" data-el="el9">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl10"></div>
          </div>
          <div class="dot fast" data-el="el10">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl11"></div>
          </div>
          <div class="dot slow" data-el="el11">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl12"></div>
          </div>
          <div class="dot fast" data-el="el12">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl13"></div>
          </div>
          <div class="dot slow" data-el="el13">
            <div class="dot-info">
              <div class="dot-num">14</div>
              <div class="dot-coord">
                <div class="c-x"></div>
                <div class="c-y"></div>
              </div>
            </div>
            <div class="dot-el" id="cl14"></div>
          </div>
        </div>
      </div>
      <!-- <div class="test-elem" id="draggable"></div> -->
      <div class="counter-panel">
        <div class="counter counter-num">00</div>
        <div class="counter-dot"></div>
      </div>
      <div class="clip-container">
        <div class="eyelid"></div>
        <div class="eyelid eyelid-bottom"></div>
      </div>
      <div class="control-layer">
        <div class="button on">
          <img class="imgg img-blink-on" id="blink-on" src="./img/blink.svg" alt="">
        </div>
        <div class="button off">
          <img class="imgg img-blink-off" id="blink-off" src="./img/dont_blink.svg" alt="">
        </div>
      </div>
    </section>
    <div class="eye-container" id="canvas-parent">
      <svg class="eye" viewBox="0 0 1680 525" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none">
        <defs>
          <clipPath id="svg-eye-top" clipPathUnits="objectBoundingBox">
            <path d="M0,0 H1 v1.0012 H0.99523 C0.83,-0.305,0.17,-0.305,0.00477,1.0012 H0 z" fill="black">
              <animate
                id="top-lid"
                attributeName="d"
                from="M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z"
                to="M0,0 H1 v1.0012 H0.99523 C0.84,1.0012,0.16,1.0012,0.00477,1.0012 H0 z"
                dur="2.5s"
                calcMode="spline"
                values="M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.84,1.0012,0.16,1.0012,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z;"
                keyTimes="0; 0.5; 1"
                keySplines="0 0 .6 .2;
                            0 0 0 .1;"
                begin="indefinite"
                fill="freeze"
                />
            </path>
          </clipPath>
          <clipPath id="svg-eye-bottom" clipPathUnits="objectBoundingBox">
            <path d="M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z" fill="black" transform='rotate(180 0.5 0.5)'>
              <animate
                id="bottom-lid"
                attributeName="d"
                from="M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z"
                to="M0,0 H1 v1.0012 H0.99523 C0.84,1.0012,0.16,1.0012,0.00477,1.0012 H0 z"
                dur='2.5s'
                calcMode="spline"
                values="M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.84,1.0012,0.16,1.0012,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.84,-0.305,0.16,-0.305,0.00477,1.0012 H0 z;"
                keyTimes="0; 0.5; 1"
                keySplines="0 0 .6 .2;
                            0 0 0 .1;"
                begin="indefinite"
                fill="freeze"
                />
            </path>
          </clipPath>
          <clipPath id="svg-eye-top-1024" clipPathUnits="objectBoundingBox">
            <path d="M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z" fill="black">
              <animate
                id="top-lid"
                attributeName="d"
                from="M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z"
                to="M0,0 H1 v1.0012 H0.99523 C0.89,1.0012,0.11,1.0012,0.00477,1.0012 H0 z"
                dur="2.5s"
                calcMode="spline"
                values="M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.89,1.0012,0.11,1.0012,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z;"
                keyTimes="0; 0.5; 1"
                keySplines="0 0 .6 .2;
                            0 0 0 .1;"
                begin="indefinite"
                fill="freeze"
                />
            </path>
          </clipPath>
          <clipPath id="svg-eye-bottom-1024" clipPathUnits="objectBoundingBox">
            <path d="M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z" fill="black" transform='rotate(180 0.5 0.5)'>
              <animate
                id="bottom-lid"
                attributeName="d"
                from="M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z"
                to="M0,0 H1 v1.0012 H0.99523 C0.89,1.0012,0.11,1.0012,0.00477,1.0012 H0 z"
                dur='2.5s'
                calcMode="spline"
                values="M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.89,1.0012,0.11,1.0012,0.00477,1.0012 H0 z;
                        M0,0 H1 v1.0012 H0.99523 C0.89,-0.305,0.11,-0.305,0.00477,1.0012 H0 z;"
                keyTimes="0; 0.5; 1"
                keySplines="0 0 .6 .2;
                            0 0 0 .1;"
                begin="indefinite"
                fill="freeze"
                />
            </path>
          </clipPath>
        </defs>
      </svg>
    </div>

<!-- script ----------------------------->

    <script>


       let divs = document.getElementsByClassName('dot');
       let winWidth = $(".interactive-l-container").width()
       let winHeight = $(".interactive-l-container").height()

       function getRandomNumber(min, max) {
         return Math.random() * (max - min) + min;
       };

       for ( let i=0; i < divs.length; i++ ) {

           let thisDiv = divs[i];

           randomTop = getRandomNumber(0, winHeight);
           randomLeft = getRandomNumber(0, winWidth);

           thisDiv.style.marginTop = randomTop +"px";
           thisDiv.style.marginLeft = randomLeft +"px";

       };



       let x = 0;
       let i = 0;
       let list = [];

       $(function() {
         $('.dot').click(function() {
           if (jQuery.inArray($(this).data('el'), list) === (-1)) {
             list[x] = $(this).data('el');
             x+=1;
             i+=1;
             if (i < 10) {
               $('.counter').html('0'+i);
             } else {
               $('.counter').html(i);
             }
             $(this).find('.dot-num').html(x);
           }
           $(this).children('.dot-info').first().css('display', 'flex');


         });
       });


       setInterval(function () {
         let co_x = $('.dot').offset().left;
         $('.c-x').html(parseInt(co_x * 0.4) + "." + Math.abs(parseInt(co_x*2)));
         $('.c-y').html(parseInt(co_x * 0.1) + "." + Math.abs(parseInt(co_x*1.5)));
       });


    $(document).ready(function() {
      $("#draggable").draggable();
    });



     $(function(){
         $(".imgg").css('height', 110 + '%');
         $(window).resize(function(){
             let h = $(window).height();
             let w = $(window).width();
             $(".imgg").css('height',(w <= 1024) ? parseInt(110) + '%' : 110 + '%');
             $(".imgg").css('height',(w <= 440) ? parseInt(160) + '%' : 110 + '%');
         });
       });

       $('#blink-on').click(function() {
          document.getElementById('top-lid').beginElement();
          document.getElementById('bottom-lid').beginElement();
          $('.thing-container').css('display', 'none'), 5000;
        })

        $('#blink-off').click(function() {
           document.getElementById('top-lid').endElement();
           document.getElementById('bottom-lid').endElement();
         })




         $(function(){
            $("#thingL").on({
                mouseover:function(){
                    $(this).css({
                        left:(Math.random()*500)+"px",
                        top:(Math.random()*500)+"px",
                    });
                  }
              });
              $("#thingS").on({
                  mouseover:function(){
                      $(this).css({
                          left:(Math.random()*200)+"px",
                          top:(Math.random()*200)+"px",
                      });
                    }
                });
          });


         // let thing1 = $(#thingL);
         //
         // function moveThing() {
         //   var randX = Math.floor(Math.random() * (window.innerWidth - 100));
         //   var randY = Math.floor(Math.random() * (window.innerHeight - 100));
         //   thing1.stop().animate({"left": randX + "px", "top": randY + "px"});
         // }
         //
         // $(document).ready(function() {
         //    thing1.on('mouseenter', foo);
         // });






     // const mediaQuery = window.matchMedia('(min-width: 1024px)');
     //
     // $(function () {
     //   let w = $(window).width()
     //   let h = $(window).height()
     //   if (w < mediaQuery) {
     //     $(".imgg").css('height', parseInt(110 - h * 0.02) + '%')
     //   }
     // });

    </script>
    <script src="./js/sketch.js"></script>
  </body>
</html>
